**VII. Manejo de Imágenes en Formato Binario**

El almacenamiento de imágenes directamente en tablas de base de datos fue abordado en la sesión, destacando que PostgreSQL es un sistema **mucho más robusto** para guardar imágenes en una tabla en comparación con MySQL, en parte porque las imágenes guardadas en PostgreSQL son **menos pesadas**.

**A. Creación de Tabla para Almacenar Imágenes Binarias (`bytea`)**

Para demostrar el manejo de imágenes, se procedió a crear una nueva tabla específicamente diseñada para este propósito. Se nombró `imagenes_binario`. La estructura de la tabla se definió con los siguientes campos y tipos de datos:

1.  **ID:** Se utilizó el tipo de dato `serial` y se estableció como `primary key`,.
2.  **`nombre_archivo`:** Se especificó como `varchar(255)` y se estableció la restricción `not null`.
3.  **`tipo_de_imagen`:** Se utilizó el tipo `varchar(50)`,.
4.  **`datos`:** Este campo es el más crucial para el almacenamiento de la imagen binaria. Se definió con el tipo de dato **`bytea`** (que el instructor refirió como `bigtail` o `begining` al corregirse, indicando que el sistema reconoce `beijing`),.
5.  **`fecha_subida`:** Se usó el tipo `timestamp` con un valor predeterminado (default) de `current_timestamp`,.
6.  **`tamaño`:** Se utilizó el tipo `bigint` (referido como `being` en el texto) y se configuró como un campo **generado** que calcula el tamaño del campo `datos`.

Una vez definida, la tabla se creó para iniciar la práctica de almacenamiento de datos binarios,.

**B. Proceso de Inserción de Imágenes: Uso de la función `PG Read Binary` para leer el archivo binario y almacenarlo en la base de datos**

El proceso para insertar una imagen en formato binario requiere el uso de una función específica de PostgreSQL para leer archivos directamente del sistema de archivos.

1.  **Definición de Campos a Insertar:** Se especificaron los campos `nombre_archivo`, `tipo_de_imagen` y `datos` en la sentencia `INSERT INTO`,.
2.  **Asignación de Valores:**
    *   Para `nombre_archivo` y `tipo_de_imagen` se usaron valores de texto (e.g., `'skill'`, `'JPG'`).
    *   Para el campo `datos`, que almacena el binario, se utilizó la función de PostgreSQL **`PG Read Binary`**.
3.  **Uso de `PG Read Binary`:** Esta función lee el archivo binario desde la dirección del sistema de archivos proporcionada y lo almacena en el campo `bytea`. El ejemplo de inserción incluyó la ruta completa al archivo de imagen, cerrando la sentencia `INSERT` con el `;` al final.
4.  **Verificación:** Después de la inserción exitosa, se demostró que los datos se habían guardado **en formato binario** en la tabla `imagenes_binario`. Se mencionó que estos datos binarios pueden ser utilizados posteriormente por lenguajes de programación como Python, Java, o cualquier otro tipo de lenguaje.